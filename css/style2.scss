$optionDefaultColours: #ED5565,#FC6E51,#FFCE54,#2ECC71,#5D9CEC,#AC92EC;
html {
   box-sizing: border-box;
 }
 
 *,
 *:before,
 *:after {
   box-sizing: inherit;
   margin: 0;
   padding: 0;
 }
 
 $contBgClr:#fff;

 .cont {
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    background-color: white;
    overflow: hidden;
 }
 
 .app {
     position: relative;
    min-width: 850px;
    height: 540px;
   
    overflow: hidden;
    
    &__bgimg {
       position: absolute;
       top: 0;
       left: -2.5%;
       width: 105%;
       height: 100%;
       transition: transform 3.5s 770ms;
       
       &-image {
          position: absolute;
          width: 100%;
          height: 100%;
          top: 0;
          left: 0;
          
          &--1 {
             background: url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/537051/city22222.jpg') center center no-repeat;
             background-size: cover;
          }
          
          &--2 {
             background: url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/537051/forest.jpg') center center no-repeat;
             background-size: cover;
             opacity: 0;
             transition: opacity 0ms 1300ms;
             will-change: opacity;
          }
       }
    }
    
    &__text {
       position: absolute;
       right: 165px;
       top: 150px;
       font-family: 'Roboto', sans-serif;
       text-transform: uppercase;
       z-index: 1;
       
       &-line {
          transition: transform 1500ms 400ms, opacity 750ms 500ms;
          will-change: transform, opacity;
          user-select: none;
          @for $i from -4 through -1 {
          &--#{abs($i)} {
             transition: transform 1500ms 2000ms + 100ms * ($i - 1), opacity 1500ms 2750ms + 250ms * ($i - 1);
          }
       }
          &--4 {
             font: {
                size: 50px;
                weight: 700;
             }
             color: #0A101D;
          }
          &--3 {
             font: {
                size: 40px;
                weight: 300;
             }
          }
          &--2 {
             margin-top: 10px;
             font: {
                size: 14px;
                weight: 500;
             }
             color: #0099CC;
          }
          &--1 {
             margin-top: 15px;
             img {
                width: 50px;
             }
          }
       }
       
       &--1 {
          
          .app__text-line {
             transform: translate3d(0, -125px, 0);
             opacity: 0;
          }
       }
       
       &--2 {
          right: initial;
          top: 250px;
          left: 80px;
          z-index: -1;
          transition: z-index 1500ms;
          
          @for $i from -4 through -1 {
          .app__text-line--#{abs($i)} {
             opacity: 0;
             transition: transform 1500ms 300ms + 75ms * ($i - 1), opacity 400ms 500ms + 75ms *($i - 1);
          }
       }
       }
    }
    
    &__img {
       position: absolute;
       transform: translate3d(0, -750px, 0);
       width: 850px;
       height: 100%;
       transition: transform 3s cubic-bezier(0.6, 0.13, 0.31, 1.02);
       will-change: transform;
       
       img {
          min-width: 100%;
          user-select: none;
       }
    }
 }
 
 .initial {
    .app__img {
       transform: translate3d(0, 0, 0);
    }
    .app__text--1 {
       @for $i from 1 through 4 {
          .app__text-line--#{$i} {
             transform: translate3d(0, 0, 0);
             transition: transform 1500ms 1400ms + 75ms * ($i - 1), opacity 400ms 1600ms + 75ms *($i - 1);
             opacity: 1;
          }
       }
    }
 }
 
 .active {
    .app__bgimg {
       transform: translate3d(10px, 0, 0) scale(1.05);
       transition: transform 5s 850ms ease-in-out;
       .app__bgimg-image--2 {
          opacity: 1;
          transition: opacity 0ms 1500ms;
       }
    }
    .app__img {
       transition: transform 3s cubic-bezier(0.6, 0.13, 0.31, 1.02);
       transform: translate3d(0, -1410px, 0);
    }
    .app__text--1 {
       z-index: -1;
       transition: z-index 0ms 1500ms;
       @for $i from 1 through 4 {
          .app__text-line--#{$i} {
             transform: translate3d(0, -125px, 0);
             transition: transform 1500ms 300ms + 75ms * ($i - 1), opacity 400ms 500ms + 75ms *($i - 1);
             opacity: 0;
          }
       }
    }
    .app__text--2 {
       z-index: 1;
       
       @for $i from 1 through 4 {
          .app__text-line--#{$i} {
             transform: translate3d(0, -125px, 0);
             transition: transform 2500ms 1100ms + 75ms * ($i - 1), opacity 1300ms 1300ms + 275ms *($i - 1);
             opacity: 1;
          }
       }
    }
 }
 
 .mouse {
    position: relative;
    margin-right: 20px;
    min-width: 50px;
    height: 80px;
    border-radius: 30px;
    border: 5px solid rgba(255, 255, 255, .8);
    &:after {
       content: '';
       position: absolute;
       top: 20px;
       left: 50%;
       transform: translate(-50%, 0);
       width: 10px;
       height: 10px;
       border-radius: 50%;
       background-color: #fff;
       animation: scroll 1s infinite alternate;
       @keyframes scroll {
          100% {transform: translate(-50%, 15px)}
       }
    }
 }
 
 .pages {
    margin-left: 20px;
    &__list {
       list-style-type: none;
    }
    &__item {
       position: relative;
       margin-bottom: 10px;
       width: 30px;
       height: 30px;
       border-radius: 50%;
       border: 3px solid #fff;
       cursor: pointer;
       &:after {
          content: '';
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%) scale(0, 0);
          width: 75%;
          height: 75%;
          border-radius: 50%;
          background-color: #fff;
          opacity: 0;
          transition: 500ms;
       }
       &:hover:after {
          transform: translate(-50%, -50%) scale(1, 1);
          opacity: 1;
       }
    }
 }
 
 .page__item-active {
    &:after {
       transform: translate(-50%, -50%) scale(1, 1);
       opacity: 1;
    }
 }
 
 .icon-link {
   position: absolute;
   left: 5px;
   bottom: 5px;
   width: 50px;
   img {
     width: 100%;
     vertical-align: top;
   }
   &--twitter {
     left: auto;
     right: 5px;
   }
 }

section {
   display:flex;
   flex-direction:row;
   justify-content:center;
   align-items:center;
   overflow:hidden;
   height:100vh;
   
   font-family: 'Roboto', sans-serif;
   .credit {
      position: absolute;
      bottom:20px;
      left:20px;
      
      color:#000;
   }
   .options {
      display:flex;
      flex-direction:row;
      align-items:stretch;
      overflow:hidden;

      min-width:600px;
      max-width:900px;
      width:calc(100% - 100px);
      
      height:400px;
      
      @for $i from 1 through 4 {
         @media screen and (max-width:798px - $i*80) {
            min-width:600px - $i*80;
            .option:nth-child(#{6-$i}) {
               display:none;
            }
         }
      }
      
      .option {
         position: relative;
         overflow:hidden;

         min-width:60px;
         margin:10px;
         //border:0px solid --defaultColor;

         background:var(--optionBackground, var(--defaultBackground, #E6E9ED));
         background-size:auto 120%;
         background-position:center;

         cursor: pointer;

         transition:.5s cubic-bezier(0.05, 0.61, 0.41, 0.95);

         @for $i from 1 through length($optionDefaultColours) {
            &:nth-child(#{$i}) {
               --defaultBackground:#{nth($optionDefaultColours, $i)};
            }
         }
         &.active {
            flex-grow:10000;
            transform:scale(1);
            
            max-width:600px;
            margin:0px;
            border-radius:40px;
            
            background-size:auto 100%;
            .shadow {
               box-shadow:inset 0 -120px 120px -120px black, inset 0 -120px 120px -100px black;
            }
            .label {
               bottom:20px;
               left:20px;
               .info >div {
                  left:0px;
                  opacity:1;
               }
            }
            /*&:active {
               transform:scale(0.9);
            }*/
         }
         &:not(.active) {
            flex-grow:1;
            
            border-radius:30px;
            .shadow {
               bottom:-40px;
               box-shadow:inset 0 -120px 0px -120px black, inset 0 -120px 0px -100px black;
            }
            .label {
               bottom:10px;
               left:10px;
               .info >div {
                  left:20px;
                  opacity:0;
               }
            }
         }
         .shadow {
            position: absolute;
            bottom:0px;
            left:0px;
            right:0px;
            
            height:120px;
            
            transition:.5s cubic-bezier(0.05, 0.61, 0.41, 0.95);
         }
         .label {
            display:flex;
            position: absolute;
            right:0px;

            height:40px;
            transition:.5s cubic-bezier(0.05, 0.61, 0.41, 0.95);
            .icon {
               display:flex;
               flex-direction:row;
               justify-content:center;
               align-items:center;
               
               min-width:40px;
               max-width:40px;
               height:40px;
               border-radius:100%;

               background-color:white;
               color:var(--defaultBackground);
            }
            .info {
               display:flex;
               flex-direction:column;
               justify-content:center;
               
               margin-left:10px;
               
               color:white;
               
               white-space: pre;
               >div {
                  position: relative;
                  
                  transition:.5s cubic-bezier(0.05, 0.61, 0.41, 0.95), opacity .5s ease-out;
               }
               .main {
                  font-weight:bold;
                  font-size:1.2rem;
               }
               .sub {
                  transition-delay:.1s;
               }
            }
         }
      }
   }
}

@import url('https://fonts.googleapis.com/css?family=Roboto:100,300,400');
body
 {
  margin:0px;
  text-align:center;
  padding-top:43vh;
  color:#fff;
  font-family:'Roboto';
  font-size:36px;
  font-weight:100;
  overflow:hidden;
  animation:bg 5s linear infinite;
}

.dropping-texts {
  display: inline-block;
  width: 180px;
  text-align: left;
  height: 36px;
  vertical-align: -2px;
}

.dropping-texts > div {
  font-size:0px;
  opacity:0;
  margin-left:-30px;
  position:absolute;
  font-weight:300;   
  box-shadow: 0px 60px 25px -20px rgba(0,0,0,0.5);
}

.dropping-texts > div:nth-child(1) {
  animation: roll 5s linear infinite 0s;
}
.dropping-texts > div:nth-child(2) {
  animation: roll 5s linear infinite 1s;
}
.dropping-texts > div:nth-child(3) {
  animation: roll 5s linear infinite 2s;
}
.dropping-texts > div:nth-child(4) {
  animation: roll2 5s linear infinite 3s;
}

@keyframes roll {
  0% {
    font-size:0px;
    opacity:0;
    margin-left:-30px;
    margin-top:0px;
    transform: rotate(-25deg);
  }
  3% {
    opacity:1;
    transform: rotate(0deg);
  }
  5% {
    font-size:inherit;
    opacity:1;
    margin-left:0px;
    margin-top:0px;
  }
  20% {
    font-size:inherit;
    opacity:1;
    margin-left:0px;
    margin-top:0px;
    transform: rotate(0deg);
  }
  27% {
    font-size:0px;
    opacity:0.5;
    margin-left:20px;
    margin-top:100px;
  }
  100% {
    font-size:0px;
    opacity:0;
    margin-left:-30px;
    margin-top:0px;
    transform: rotate(15deg);
  }
}

@keyframes roll2 {
  0% {
    font-size:0px;
    opacity:0;
    margin-left:-30px;
    margin-top:0px;
    transform: rotate(-25deg);
  }
  3% {
    opacity:1;
    transform: rotate(0deg);
  }
  5% {
    font-size:inherit;
    opacity:1;
    margin-left:0px;
    margin-top:0px;
  }
  30% {
    font-size:inherit;
    opacity:1;
    margin-left:0px;
    margin-top:0px;
    transform: rotate(0deg);
  }
  37% {
    font-size:1500px;
    opacity:0;
    margin-left:-1000px;
    margin-top:-800px;
  }
  100% {
    font-size:0px;
    opacity:0;
    margin-left:-30px;
    margin-top:0px;
    transform: rotate(15deg);
  }
}

@keyframes bg {
  0% {background: #ff0075;}
  3% {background: #0094ff;}
  20% {background: #0094ff;}
  23% {background: #b200ff;}
  40% {background: #b200ff;}
  43% {background: #8BC34A;}
  60% {background: #8BC34A;}
  63% {background: #F44336;}
  80% {background: #F44336;}
  83% {background: #F44336;}
  100% {background: #F44336;}
}